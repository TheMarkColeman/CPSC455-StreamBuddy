{"ast":null,"code":"var _jsxFileName = \"/Users/nazishtazeem/WebstormProjects/CPSC455-StreamBuddy/streambuddy/src/components/Authentications.js\",\n    _s = $RefreshSig$();\n\nimport GoogleLogin, { GoogleLogout } from \"react-google-login\";\nimport React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst dotenv = require('dotenv');\n\ndotenv.config({\n  path: './.env'\n});\nexport default function Authentication() {\n  _s();\n\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n\n  const onSuccess = async res => {\n    axios.post('http://localhost:5000/api/users/', res.profileObj).then(response => {\n      setUser(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const onLogoutSuccess = () => {\n    setUser(null);\n    console.log(\"logout success\");\n  };\n\n  const onFailure = () => {\n    console.log(\"Login Failed\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Login to StreamBuddy with Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name\",\n        children: [\"Welcome \", user.name, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email\",\n        children: [\"Your email is: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.imageUrl,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(GoogleLogout, {\n        clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n        buttonText: \"Logout\",\n        onLogoutSuccess: onLogoutSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n      buttonText: \"Login\",\n      onSuccess: onSuccess,\n      onFailure: onFailure,\n      cookiePolicy: 'none',\n      isSignedIn: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Authentication, \"J8N1KxrPXxnpj+orf0lLGQtSOr8=\");\n\n_c = Authentication;\n\nvar _c;\n\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"sources":["/Users/nazishtazeem/WebstormProjects/CPSC455-StreamBuddy/streambuddy/src/components/Authentications.js"],"names":["GoogleLogin","GoogleLogout","React","useContext","axios","UserContext","dotenv","require","config","path","Authentication","user","setUser","onSuccess","res","post","profileObj","then","response","data","catch","err","console","log","onLogoutSuccess","onFailure","name","email","imageUrl","process","env","REACT_APP_GOOGLE_CLIENT_ID"],"mappings":";;;AAAA,OAAOA,WAAP,IAAqBC,YAArB,QAAwC,oBAAxC;AACA,OAAOC,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,eAA1B;;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAEAD,MAAM,CAACE,MAAP,CAAc;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAd;AAEA,eAAe,SAASC,cAAT,GAA0B;AAAA;;AACrC,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAkBT,UAAU,CAACE,WAAD,CAAlC;;AAEA,QAAMQ,SAAS,GAAG,MAAOC,GAAP,IAAe;AAC7BV,IAAAA,KAAK,CAACW,IAAN,CAAW,kCAAX,EAA+CD,GAAG,CAACE,UAAnD,EACKC,IADL,CACWC,QAAD,IAAc;AAChBN,MAAAA,OAAO,CAACM,QAAQ,CAACC,IAAV,CAAP;AACP,KAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KALD;AAMH,GAPD;;AASA,QAAMG,eAAe,GAAE,MAAM;AACzBZ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,GAHD;;AAKA,QAAME,SAAS,GAAG,MAAM;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKZ,IAAI,gBAAG;AAAA,8BACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BAA+BA,IAAI,CAACe,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA,sCAAuCf,IAAI,CAACgB,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BAAqB;AAAK,UAAA,GAAG,EAAEhB,IAAI,CAACiB,QAAf;AAAyB,UAAA,GAAG,EAAE;AAA9B;AAAA;AAAA;AAAA;AAAA;AAArB;AAAA;AAAA;AAAA;AAAA,cAHA,eAIA,QAAC,YAAD;AAAc,QAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,0BAApC;AACc,QAAA,UAAU,EAAC,QADzB;AAEc,QAAA,eAAe,EAAEP;AAF/B;AAAA;AAAA;AAAA;AAAA,cAJA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAH,gBASL,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEK,OAAO,CAACC,GAAR,CAAYC,0BAAnC;AACa,MAAA,UAAU,EAAC,OADxB;AAEa,MAAA,SAAS,EAAElB,SAFxB;AAGa,MAAA,SAAS,EAAEY,SAHxB;AAIa,MAAA,YAAY,EAAE,MAJ3B;AAKa,MAAA,UAAU,EAAE;AALzB;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH;;GA3CuBf,c;;KAAAA,c","sourcesContent":["import GoogleLogin, {GoogleLogout} from \"react-google-login\";\nimport React, {useContext} from \"react\";\nimport axios from \"axios\";\nimport {UserContext} from \"./UserContext\";\nconst dotenv = require('dotenv');\n\ndotenv.config({ path: './.env'});\n\nexport default function Authentication() {\n    const {user, setUser} = useContext(UserContext);\n\n    const onSuccess = async (res) => {\n        axios.post('http://localhost:5000/api/users/', res.profileObj)\n            .then((response) => {\n                setUser(response.data);\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n\n    const onLogoutSuccess= () => {\n        setUser(null);\n        console.log(\"logout success\");\n    }\n\n    const onFailure = () => {\n        console.log(\"Login Failed\")\n    }\n\n    return (\n        <div>\n            <h3>Login to StreamBuddy with Google</h3>\n            {user ? <div>\n                    <div className=\"name\">Welcome {user.name}!</div>\n                    <div className=\"email\">Your email is: {user.email}</div>\n                    <div className=\"img\"><img src={user.imageUrl} alt={\"\"}/></div>\n                    <GoogleLogout clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n                                  buttonText=\"Logout\"\n                                  onLogoutSuccess={onLogoutSuccess}/>\n                    {/*<pre>{JSON.stringify(user, null, 2)}</pre>*/}\n                </div> :\n            <GoogleLogin clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n                         buttonText=\"Login\"\n                         onSuccess={onSuccess}\n                         onFailure={onFailure}\n                         cookiePolicy={'none'}\n                         isSignedIn={true}\n            />}\n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}